<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BC/AD/BP Date Converter</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      background-color: #f9f9f9;
      color: #333;
      max-width: 600px;
      margin: auto;
    }
    h1 { color: #006699; }
    input, button {
      font-size: 1rem;
      margin: 0.5rem 0;
      padding: 0.5rem;
      width: 100%;
    }
    #output {
      margin-top: 1rem;
      padding: 1rem;
      background-color: #e0f7fa;
      border-left: 5px solid #0097a7;
    }
  </style>
</head>
<body>
  <h1>BC / AD / BP Date Converter</h1>
  <p>Enter a date (e.g., <strong>500BC</strong>, <strong>1200AD</strong>, <strong>3000BP</strong>)</p>

  <input type="text" id="date1" placeholder="First date" />
  <input type="text" id="date2" placeholder="Second date (optional)" />
  <button onclick="convert()">Convert</button>

  <div id="output"></div>

  <script>
    function parseInput(input) {
      input = input.trim().toUpperCase();
      if (input.endsWith("BC")) return [-parseInt(input), "BC"];
      if (input.endsWith("AD")) return [parseInt(input), "AD"];
      if (input.endsWith("BP")) return [parseInt(input), "BP"];
      throw new Error("Invalid format. Use BC, AD, or BP.");
    }

    function bcToBp(bc) { return 1950 + bc; }
    function adToBp(ad) { return 1950 - ad; }
    function bpToBc(bp) { return bp - 1950 > 0 ? bp - 1950 : null; }
    function bpToAd(bp) { return 1950 - bp > 0 ? 1950 - bp : null; }

    function convert() {
      const input1 = document.getElementById("date1").value;
      const input2 = document.getElementById("date2").value;
      let output = "";

      try {
        const [year1, type1] = parseInput(input1);
        if (type1 === "BC") {
          output += `${-year1} BC = ${bcToBp(-year1)} BP<br>`;
        } else if (type1 === "AD") {
          output += `${year1} AD = ${adToBp(year1)} BP<br>`;
        } else if (type1 === "BP") {
          const bc = bpToBc(year1);
          const ad = bpToAd(year1);
          output += `${year1} BP = ${bc ? bc + " BC" : ad + " AD"}<br>`;
        }
      } catch (e) {
        output += `<span style="color:red;">Error: ${e.message}</span><br>`;
      }

      if (input2) {
        try {
          const [year2, _] = parseInput(input2);
          const [year1] = parseInput(input1);
          if ((year1 < 0 && year2 > 0) || (year1 > 0 && year2 < 0)) {
            output += `Transition across 1 BC / 1 AD boundary`;
          } else {
            output += `No transition across BC/AD boundary`;
          }
        } catch {
          output += `<br><span style="color:red;">Second date could not be parsed</span>`;
        }
      }

      document.getElementById("output").innerHTML = output;
    }
  </script>
</body>
</html>
